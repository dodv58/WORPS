import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

unit_cost = [1.21379893, 1.18906869, 1.34669224, 1.2445178, 1.23449388, 1.10895782, 1.27115316, 1.18100025, 1.12661258, 1.29268271]
pim_cost = [1.1188301228885917, 1.2332854397163537, 1.4725940497624448, 1.1065342968252516, 1.2501762778447842, 0.9787916306808886, 1.361441695207257, 1.2658805994924174, 1.214018928661356, 1.394809517157453]
# ga = [1.0044253560832446, 0.9620593454101264, 0.9468294441075348, 0.9457800862110219, 0.9903427004059936, 0.8937607713049982, 0.9638095600708092, 0.9378049561061873, 0.9158847579144724, 0.9196398250992089]
# ga = [0.9828817057906858, 0.9491181811535294, 0.9195092819174914, 0.9419379183020823, 0.956957606748673, 0.9269002770166294, 0.9781811117957957, 0.916340852102657, 0.9258565469413669, 0.8897153394514591]
ga = [0.9862441841955891, 0.9359758460767301, 0.9361308517602467, 0.951928854369935, 0.9798218833695987, 0.9138008971491832, 0.9500500857193844, 0.9361399533055176, 0.9059154737947654, 0.9020270730760952]
# mlp_cost = [0.9723782789833684, 0.9519449849127801, 0.9867076842415929, 0.9598377534850857, 0.9996599163804774, 0.8669169804467621, 0.9926003330050067, 0.9422102690163197, 0.9317620446918033, 0.9997425755593198]
mlp_cost = [0.9723782789833684, 0.9519449849127801, 0.9846414772469395, 0.9598377534850857, 0.9996599163804774, 0.8669169804467621, 0.9926003330050067, 0.9422102690163197, 0.9317620446918033, 0.9696553676019787]
mlp_step_count = [67, 53, 49, 45, 47, 59, 48, 34, 73, 25]
# gcn_cost = [0.9949427743225393, 0.9620593454101265, 0.9134301458210684, 0.9627392787502512, 0.9204085633028879, 0.8733709675374655, 0.9669934537329984, 0.9655386450620106, 0.9402975048942281, 0.9352017408122854]
gcn_cost = [0.9905923761858135, 0.9519449849127801, 0.8944339457214708, 0.8756948594044954, 0.9336271316062935, 0.8669169804467621, 0.9669934537329984, 0.9655386450620106, 0.9402975048942281, 0.9352017408122854]
gcn_step_count = [51, 31, 100, 129, 118, 35, 33, 43, 57, 30]
# mixed_cost = [0.9949427743225393, 0.9519449849127801, 0.9394377745461057, 0.9598377534850857, 0.9965305858655954, 0.9580081147465872, 0.9669934537329984, 0.9666452569711872, 0.9899200772458655, 0.9352017408122854]
mixed_cost = [0.9674663272416301, 0.9519449849127801, 0.9221817053780158, 0.9598377534850857, 0.9336271316062935, 0.8733709675374655, 0.9669934537329984, 0.9378049561061873, 0.9317620446918033, 0.8815073516445778]



data = []
for i in range(len(unit_cost)):
    data.append([i, unit_cost[i], 'unit_cost'])
    data.append([i, pim_cost[i], 'pim_cost'])
    data.append([i, ga[i], 'ga_cost'])
    data.append([i, mlp_cost[i], 'mlp_cost'])
    data.append([i, gcn_cost[i], 'gcn_cost'])

    # data.append([i, mixed_cost[i], 'mixed_cost'])
    # data.append([i, gcn_step_count[i], 'gcn_step_count'])
    # data.append([i, mlp_step_count[i], 'mlp_step_count'])
df = pd.DataFrame(data, columns=['index', 'cost', 'algo'])

ax = sns.barplot(df, x='index', y='cost', hue='algo')
# ax = sns.lineplot(df, x=x, y=y, hue='algo')
ax.legend_.set_title(None)
ax.set(xlabel="Demand index", ylabel="Max link utilization")
# if x == 'critical':
#     ax.set_xticklabels(["30%", '40%', '50%', "60%", "70%", '80%'])
# if y == 'failed_rate':
#     ax.yaxis.set_major_formatter(FormatStrFormatter('%.2f %%'))
#     ax.yaxis.set_major_formatter(PercentFormatter(xmax=1, decimals=0))

plt.tight_layout()
plt.show()

